FROM clipper/python36-closure-container:0.3

# Install Git
RUN apt-get update \
    && apt-get install -y git

# Install cURL
RUN apt-get install -y curl

# Clone Darknet Repo
RUN git clone https://github.com/RehanSD/darknet.git

# Make Darknet Project
RUN cd darknet
RUN make -C darknet/

#Download Weights
RUN curl -o darknet/yolov3.weights https://pjreddie.com/media/files/yolov3.weights

COPY containers/python/python_closure_container.py \
       containers/python/container_entry.sh /container/

ENTRYPOINT ["/container/container_entry.sh", "py-closure-container", "/container/python_closure_container.py"]